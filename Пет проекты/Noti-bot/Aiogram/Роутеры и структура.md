# Роутеры и структура

В корне проекта создать папку app.
В app создать файл handlers, который будет содержать функции хэндлеров
В app создать файл keyboards, который будет хранить клавиатуры (о них в след. подглаве)
в app создать файл states, который будет хранить состояния пользователя
В корне можно создать файл run, который будет содержать точку входа, инициализацию бота
В корне можно создать .env, конфиги файлы
В отдельном пакете можно создать реализацию бизнес логики
(про все сущности будет описано в следующих подглавах)

```python
	# Чтобы диспетчер мог работать с хэндлерами из других модулей создадим роутер:

		from aiogram import Router

		router = Router()

	# Теперь нам нужно в декораторах заменить диспетчер на роутер, а в сам диспетчер передать собственно объект роутера. Таким образом диспетчер сможет работать с хэндлерами из всех модулей, которые подключены к этому роутеру:

	# Во всех хэндлерах декораторы теперь должны быть от роутера:

		@router.message(Command('help'))
		async def get_help(message: Message):
			await message.answer('Вызвана команда /help')

	# Передаем диспетчеру роутер, обычно это в мейн модуле в мейн функции, типо так:

		async def main():
			bot = Bot(token='YOUR_TOKEN')
			dp = Dispatcher()
			dp.include_router(router)
			await dp.start_polling(bot)

	# И точка входа:

		if __name__ == '__main__':
			logging.basicConfig(level=logging.INFO) # на проде убрать логирование
			try:
				asyncio.run(main())
			except KeyboardInterrupt:
				print('Exit by KeyboardInterrupt') # чтобы не мусорить в консоль при отключении бота

```