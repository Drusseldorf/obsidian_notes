# 11.21 Ограничение количества результатов запроса

Для ограничения количества строк, возвращаемых запросом, используется команда `LIMIT`. Она позволяет указать, сколько записей должно быть включено в результирующую таблицу.

Пример:

```sql
SELECT book_id, name, author_id
FROM book
ORDER BY name
LIMIT 10;
```

Этот запрос вернет первые 10 записей из таблицы `book`, отсортированные по имени (`name`).

### Пагинация (выбор следующей страницы результатов)

Чтобы отобразить следующую страницу с результатами, используется комбинация `LIMIT` и `OFFSET`. `OFFSET` указывает, сколько строк нужно пропустить перед выборкой данных. Это позволяет, например, отобразить вторую страницу с книгами, пропустив первые 10 записей.

Пример:

```sql
SELECT book_id, name, author_id
FROM book
ORDER BY name
LIMIT 10
OFFSET 10;
```

Этот запрос пропустит первые 10 записей и вернет следующие 10 записей, что соответствует второй странице результатов.

### Дополнения и уточнения

1. **Производительность:** Использование `LIMIT` с `OFFSET` может влиять на производительность при работе с большими наборами данных, особенно на высоких значениях `OFFSET`. Это связано с тем, что даже пропущенные записи все равно должны быть обработаны базой данных.
2. **Альтернативы `OFFSET` для больших данных:** В некоторых случаях, особенно при работе с большими таблицами, можно использовать альтернативные подходы для пагинации, такие как хранение и передача значений ключа последней записи предыдущей страницы и использование их для фильтрации следующего набора данных.
3. **Совместимость с другими базами данных:** Команды `LIMIT` и `OFFSET` поддерживаются большинством SQL-баз данных, но синтаксис может немного отличаться в некоторых системах. Например, в SQL Server используется `TOP` вместо `LIMIT`.
4. **Порядок сортировки:** Всегда следует указывать `ORDER BY` вместе с `LIMIT`, чтобы гарантировать определенный порядок строк в возвращаемом наборе данных. Без `ORDER BY` база данных может вернуть строки в произвольном порядке.