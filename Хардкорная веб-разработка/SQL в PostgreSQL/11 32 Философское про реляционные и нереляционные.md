# 11.32 Философское про реляционные и нереляционные СУБД

Реляционные и нереляционные СУБД имеют разные подходы к управлению данными и их структурированию, что определяет их сильные и слабые стороны.

### Реляционные СУБД

1. **Строго определенные типы данных**:
    - В реляционных СУБД данные хранятся в таблицах, состоящих из строк и столбцов, где каждый столбец имеет строго определенный тип данных (например, `INT`, `VARCHAR`, `DATE` и т.д.).
    - Такая структура помогает поддерживать целостность данных и предотвращает их несоответствие типам.
2. **Схема данных**:
    - В реляционных СУБД схема данных (структура таблиц и взаимосвязей между ними) должна быть определена заранее. Любые изменения в схеме, такие как добавление нового столбца, могут вызвать временную блокировку базы данных.
    - Это может привести к простоям, особенно в крупных системах с высоким уровнем транзакций.
3. **Горизонтальное и вертикальное масштабирование**:
    - **Горизонтальное масштабирование** (добавление новых серверов) в реляционных СУБД сложнее, так как требует разделения данных и поддержания согласованности между серверами.
    - **Вертикальное масштабирование** (увеличение мощности одного сервера, например, добавление оперативной памяти или увеличение дискового пространства) проще, но имеет свои ограничения по производительности и стоимости.

### Нереляционные СУБД

1. **Гибкость в структуре данных**:
    - Нереляционные СУБД (также известные как NoSQL) обычно не требуют строгой схемы данных. Данные могут храниться в произвольной структуре, что позволяет легко добавлять новые поля и изменять структуру данных "на лету".
    - Примеры нереляционных СУБД: MongoDB, Cassandra, Couchbase, Redis.
2. **Масштабирование**:
    - **Горизонтальное масштабирование** в нереляционных СУБД значительно проще. Это связано с тем, что данные обычно хранятся в распределенных кластерах, и добавление новых серверов не требует сложных операций по разделению данных.
    - Это делает нереляционные СУБД подходящими для приложений, которые требуют масштабирования по мере роста данных и нагрузки.
3. **Отсутствие строгой схемы данных**:
    - В нереляционных СУБД можно легко изменять структуру данных без блокировки или простоя базы данных.
    - Некоторые из них вообще не требуют схемы данных, что позволяет хранить различные типы документов, структурированные по-разному, в одной и той же коллекции.

### Совмещение подходов в PostgreSQL

PostgreSQL, будучи реляционной СУБД, предоставляет также возможности, характерные для нереляционных баз данных, такие как поддержка типов данных `json` и `jsonb`:

- **JSON и JSONB**:
    - Эти типы данных позволяют хранить в PostgreSQL неструктурированные данные в формате JSON, что дает возможность использовать гибкость нереляционных баз данных, оставаясь в рамках реляционной СУБД.
    - `jsonb` более оптимизирован для поиска и индексации, чем `json`, что делает его предпочтительным выбором для хранения больших объемов JSON-данных.
    
    jsonb - Хранится в бинарном виде, постгрес парсит json и хранит его максимально эффективно
    json - хранит фактически также как передадим. То есть, если где то мы поставим пробелы после запятой, то они там так и будут храниться