# 11.24 Комментарии в SQL и в базе данных

Комментарии в SQL и в базе данных помогают документировать структуру и назначение таблиц, колонок и других сущностей. Это важно для поддержки и понимания кода, особенно в больших проектах.

### Комментарии на таблицу и колонку

В PostgreSQL можно добавлять комментарии к таблицам и колонкам с помощью команды `COMMENT ON`.

Примеры:

- **Комментарий на таблицу:**
    
    ```sql
    COMMENT ON TABLE author IS 'Авторы книг, писатели';
    ```
    
    Этот комментарий описывает назначение таблицы `author`.
    
- **Комментарий на колонку:**
    
    ```sql
    COMMENT ON COLUMN author.author_id IS 'Уникальный идентификатор писателя';
    ```
    
    Здесь комментарий добавляется к колонке `author_id` таблицы `author`, поясняя её назначение.
    

**Важно:** При добавлении комментария к колонке необходимо указывать название таблицы и колонки через точку (`table_name.column_name`).

### Просмотр комментариев в psql

В psql можно использовать команды для просмотра информации о таблицах и колонках, включая комментарии:

- **Просмотр всех таблиц и последовательностей:**
    
    ```sql
    \d
    ```
    
- **Просмотр таблиц в расширенном формате (с комментариями и размерами):**
    
    ```sql
    \dt+
    ```
    
- **Просмотр информации по конкретной таблице:**
    
    ```sql
    \dt author
    ```
    
- **Детальная информация по конкретной таблице (включая комментарии):**
    
    ```sql
    \dt+ author
    ```
    

### Просмотр комментариев в DBeaver

В DBeaver, популярном инструменте для работы с базами данных, комментарии также доступны:

- Откройте нужную таблицу и перейдите на вкладку **Свойства** (Properties). Здесь можно увидеть всю информацию, включая комментарии к таблице и колонкам.
- Также можно перейти в **Диаграммы** (Diagrams), где в настройках (значок на нижней панели) можно включить отображение комментариев к атрибутам таблиц. После обновления диаграммы, комментарии будут видны.

### Комментарии в самом языке SQL

Комментарии в SQL используются для пояснения кода и бывают двух типов:

- **Однострочные комментарии:**
    
    ```sql
    SELECT * FROM sometable; -- комментарий для одной строки
    ```
    
- **Многострочные комментарии:**
    
    ```sql
    /*
    Это многострочный комментарий.
    Он может занимать несколько строк.
    */
    ```
    

Многострочные комментарии удобны для длинных объяснений или временного отключения части кода.