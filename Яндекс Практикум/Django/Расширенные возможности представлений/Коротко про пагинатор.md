### **Постраничный вывод информации**

Чтобы вывести список объектов постранично — нужно:

- получить из БД полный список объектов, который нужно разбить на страницы,

- создать объект класса `Paginator`,

- передать в объект класса `Paginator` список объектов и количество элементов на странице.

```python
# Импортируем класс пагинатора.
from django.core.paginator import Paginator
...


def birthday_list(request):
    # Получаем список всех объектов с сортировкой по id.
    birthdays = Birthday.objects.order_by('id')
    # Создаём объект пагинатора, передаём в него список объектов
    # и устанавливаем постраничное разбиение: 10 объектов на страницу.
    paginator = Paginator(birthdays, 10)

    # Получаем из запроса значение параметра page.
    page_number = request.GET.get('page')
    # Получаем запрошенную страницу пагинатора. 
    # Если параметра page нет в запросе или его значение не приводится к числу,
    # вернётся первая страница пагинатора.
    page_obj = paginator.get_page(page_number)
    # Вместо полного списка объектов передаём в словарь контекста 
    # объект страницы пагинатора:
    context = {'page_obj': page_obj}
    return render(request, 'birthday/birthday_list.html', context)
```

### Методы страницы пагинатора

- **page_obj.has_next()** — возвращает тип `bool`: есть ли страница со следующим номером;

- **page_obj.has_previous()** — возвращает тип `bool`: есть ли страница с предыдущим номером;

- **page_obj.has_other_pages()** — возвращает тип `bool`: есть ли другие страницы, кроме полученной;

- **page_obj.next_page_number()** — возвращает тип `int`: каков номер следующей страницы;

- **page_obj.previous_page_number()** — возвращает тип `int`: каков номер предыдущей страницы;

- **page_obj.start_index()** — возвращает тип `int`: каков порядковый номер первого элемента на текущей странице. Отсчёт идёт от начала списка, начиная с 1. Например, если объекты распределяются по пять на одну страницу, а **page_obj** — это третья страница, то `page_obj.start_index()` вернёт 11;

- **page_obj.end_index()** — возвращает тип: `int`: каков номер последнего элемента на текущей странице. Отсчёт идёт от начала списка, начиная с 1. Например, если объекты распределяются по пять на одну страницу, а **page_obj** — это третья страница, то `page_obj.end_index()` вернёт 15.

Через объект страницы можно получить доступ к атрибутам и методам объекта класса `Paginator`:

- **page_obj.paginator.per_page** — число: количество записей на странице;

- **page_obj.paginator.num_pages** — число: количество страниц в пагинаторе;

- **page_obj.paginator.page_range** — итератор: хранит диапазон номеров всех страниц пагинатора — [1, 2, 3, 4, …].

Для примера выведем в HTML-список все номера страниц пагинатора:

```html
{% if page_obj.has_other_pages %}
<ul class="pagination">
  <!-- Перебираем в цикле все номера страниц -->
  {% for i in page_obj.paginator.page_range %}
  <li class="page-item">
    {{ i }}
  </li>
  {% endfor %}
</ul>
{% endif %}
```