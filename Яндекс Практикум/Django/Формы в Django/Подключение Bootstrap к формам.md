## 1. Зачем подключать Bootstrap

- **Bootstrap** – это CSS/JS-фреймворк, упрощающий стилизацию форм и создание адаптивных макетов.
- Использование готового решения позволяет не тратить время на ручную верстку всех элементов формы (полей, кнопок, сообщений об ошибках).
- Для Django есть удобная библиотека **django-bootstrap5**, которая добавляет специальные теги для шаблонов, чтобы безболезненно подключить Bootstrap-стили.

---

## 2. Установка django-bootstrap5

1. **Убедитесь**, что находитесь в **активированном виртуальном окружении**.
2. Выполните установку:
    
    ```bash
    pip install django-bootstrap5==22.2
    ```
    
3. В файле настроек `settings.py` добавьте строку `'django_bootstrap5'` в список приложений `INSTALLED_APPS`. Порядок не важен:
    
    ```python
    INSTALLED_APPS = [
        ...
        'django_bootstrap5',
        ...
    ]
    ```
    

После этого Django будет «знать» о существовании приложения django-bootstrap5.

---

## 3. Подключение стилей и тегов Bootstrap в шаблоны

### 3.1 Подключение в базовом шаблоне

1. В вашем **базовом** шаблоне (например, `base.html`) добавьте в начало файла тег загрузки библиотеки:
    
    ```html
    {% load django_bootstrap5 %}
    ```
    
2. Вместо обычного `<link>` на Bootstrap используйте специальный тег:
    
    ```html
    {% bootstrap_css %}
    ```
    
    Таким образом, ваш базовый шаблон может выглядеть примерно так:
    
    ```html
    <!DOCTYPE html>
    <html lang="ru">
      <head>
        <meta charset="UTF-8">
        <title>Проект ACME</title>
        <!-- Подключаем библиотеку django_bootstrap5 -->
        {% load django_bootstrap5 %}
        <!-- Подключаем CSS Bootstrap -->
        {% bootstrap_css %}
      </head>
      <body>
        {% include "includes/header.html" %}
        <div class="container pt-5">
          {% block content %}{% endblock %}
        </div>
      </body>
    </html>
    ```
    

- Важно: **{% bootstrap_css %}** нужно вызывать лишь в одном месте (как правило, в базовом шаблоне), чтобы избежать конфликтов и дублирования.

### 3.2 Использование тегов bootstrap в дочерних шаблонах

В шаблонах, где будете использовать теги (например, `birthday.html`), достаточно подключить загрузку библиотеки:

```html
{% load django_bootstrap5 %}
```

Тег **{% bootstrap_form form %}**:

- Отрисовывает все поля формы (включая сообщения об ошибках) в стиле Bootstrap.
- Применять его нужно вместо `{{ form.as_p }}` / `{{ form.as_ul }}` и т.п.

Тег **{% bootstrap_button button_type="submit" content="Отправить" %}**:

- Создает кнопку отправки (submit) с Bootstrap-стилями.

---

## 4. Пример кода для `birthday.html`

### 4.1 Минимальный вариант

Предположим, у вас есть форма `BirthdayForm`, которую вы уже передаете в контекст во view-функции. В шаблоне `birthday.html` может быть такой код:

```html
{% extends "base.html" %}
{% load django_bootstrap5 %}  <!-- Подключаем библиотеку -->

{% block content %}
  <form>
    <!-- Выводим поля формы с помощью специального тега. -->
    {% bootstrap_form form %}
    <!-- Добавляем кнопку отправки. -->
    {% bootstrap_button button_type="submit" content="Отправить" %}
  </form>

  {% with data=request.GET %}
    {% if form.is_valid %}
      <h2>Привет, {{ data.first_name }} {{ data.last_name }}</h2>
      ...
    {% endif %}
  {% endwith %}
{% endblock %}
```

### 4.2 Добавление карточки (Bootstrap card)

Чтобы форма выглядела аккуратнее, обернем её в элемент «карточки» (карта, card) с заголовком:

```html
{% extends "base.html" %}
{% load django_bootstrap5 %}

{% block content %}
  <div class="card">
    <div class="card-header">
      Калькулятор ожидания дня рождения
    </div>
    <div class="card-body">
      <form>
        {% bootstrap_form form %}
        {% bootstrap_button button_type="submit" content="Отправить" %}
      </form>
    </div>
  </div>

  {% with data=request.GET %}
    {% if form.is_valid %}
      <h2>Привет, {{ data.first_name }} {{ data.last_name }}</h2>
      ...
    {% endif %}
  {% endwith %}
{% endblock %}
```

### 4.3 Регулировка ширины (Bootstrap grid)

Bootstrap использует **грид-систему**, разделяя строку на 12 колонок. Чтобы форма не растягивалась на всю ширину экрана, используем класс `col-*` (например, `col-4` для ширины в треть экрана, `col-6` для половины и т.п.):

```html
{% extends "base.html" %}
{% load django_bootstrap5 %}

{% block content %}
  <!-- Оборачиваем в блок, чтобы работало масштабирование колонок -->
  <div class="card col-4">
    <div class="card-header">
      Калькулятор ожидания дня рождения
    </div>
    <div class="card-body">
      <form>
        {% bootstrap_form form %}
        {% bootstrap_button button_type="submit" content="Отправить" %}
      </form>
    </div>
  </div>

  {% with data=request.GET %}
    {% if form.is_valid %}
      <h2>Привет, {{ data.first_name }} {{ data.last_name }}</h2>
      ...
    {% endif %}
  {% endwith %}
{% endblock %}
```

Таким образом, карточка с формой занимает примерно треть ширины экрана, а внешний вид получается компактным и приятным.

---

## 5. Дополнительные советы и бест-практики

1. **Используйте постоянное интернет-соединение или локальную копию Bootstrap**
    
    - Библиотека django-bootstrap5 загружает CSS-файл по умолчанию извне (CDN). Если вам нужно, чтобы всё работало без интернета (или есть другие требования к безопасности), можно подключить локальную копию Bootstrap CSS/JS.
    - Документация django-bootstrap5 содержит инструкции, как настроить путь к локальным файлам.
2. **При работе с Bootstrap** проверяйте версию фреймворка.
    
    - django-bootstrap5 ориентируется на 5-ю версию Bootstrap (Bootstrap v5). Убедитесь, что используете совместимую версию документации Bootstrap и не смешиваете с более старыми (v3, v4) элементами или классами.
3. **Дополнительная стилизация**
    
    - Если стандартных классов Bootstrap не хватает, переопределите их в собственном CSS-файле.
    - Подключите такой CSS-файл после Bootstrap, чтобы ваши стили имели приоритет.
4. **Адаптивный дизайн**
    
    - Bootstrap по умолчанию адаптивный. Если вам нужно детальнее настроить отображение формы на разных экранах (например, col-6 на больших и col-12 на маленьких), используйте классы вида `col-md-6 col-12`.
5. **Отдельный файл `forms.py`**
    
    - Напоминаем, что формы в Django обычно располагаются в файле `forms.py` приложения.
    - После создания или изменения формы не забудьте обновить логику во view-функции.
6. **Bootstrap JavaScript**
    
    - Для сложных компонентов (например, выпадающие списки, модальные окна) нужно подключать **{% bootstrap_javascript %}** (аналогично {% bootstrap_css %}).
    - Если ваша страница пользуется только базовыми стилями и нет необходимости в скриптах Bootstrap, можно обойтись без подключения JavaScript.
7. **Совместимость с другими библиотеками**
    
    - Если вы используете, например, `django-crispy-forms`, то она может конфликтовать с django-bootstrap5, так что лучше остановиться на чем-то одном для стилизации форм.
    - Важно: подход django-bootstrap5 довольно свежий и ориентирован именно на Bootstrap 5.
8. **Проверяйте вывод ошибок**
    
    - При использовании `{% bootstrap_form form %}` сообщения об ошибках автоматически обёрнуты в стили Bootstrap.
    - Убедитесь, что они видны и пользователь понимает, если что-то введено неверно.