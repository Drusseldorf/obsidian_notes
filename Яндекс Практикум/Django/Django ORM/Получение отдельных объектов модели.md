## 1. Метод .get()

- **Назначение:** Возвращает один объект, удовлетворяющий условию.
- **Особенности:**
    - Если найдено более одного объекта — возникает ошибка.
    - Если объект не найден — выбрасывается исключение `DoesNotExist`.
    - Для обращения к первичному ключу можно использовать псевдоним `pk` (Django автоматически подставляет реальное имя поля, например, id).
- **Пример:**
    
    ```python
    # Получаем мороженое с конкретным pk
    ice_cream = IceCream.objects.get(pk=pk)
    ```
    

## 2. Функция get_object_or_404()

- **Назначение:** Возвращает объект, если он существует, или генерирует ошибку 404, если объект не найден.
- **Преимущества:**
    - Упрощает обработку ошибок, возвращая понятную страницу "Not Found" пользователю.
    - Можно передать не только модель, но и уже предварительно отфильтрованный QuerySet (например, с ограниченным набором полей или условием).
- **Пример:**
    
    ```python
    from django.shortcuts import get_object_or_404, render
    
    def ice_cream_detail(request, pk):
        template_name = 'ice_cream/detail.html'
        ice_cream = get_object_or_404(
            IceCream.objects.values('title', 'description').filter(is_published=True),
            pk=pk
        )
        context = {
            'ice_cream': ice_cream,
        }
        return render(request, template_name, context)
    ```
    
- **Преобразование запроса:**  
    В результате SQL-запрос будет запрашивать только указанные поля и ограничиваться одной записью, с автоматически добавленным `LIMIT 21` для оптимизации.

## 3. Методы .first() и .last()

- **Назначение:** Позволяют получить первый или последний объект из отсортированного QuerySet.
- **Особенности:**
    - Применять к отсортированным QuerySet рекомендуется, чтобы точно определить, какой объект является первым или последним.
- **Примеры:**
    
    ```python
    first_ice_cream = IceCream.objects.filter(is_published=True).order_by('pk').first()
    last_ice_cream = IceCream.objects.filter(is_published=True).order_by('pk').last()
    ```
    

## 4. Сравнение методов получения объекта

- **.get():**
    - Возвращает один объект.
    - Если найдено больше одного объекта, выбрасывается ошибка.
- **get_object_or_404():**
    - Оборачивает вызов `.get()` в конструкцию try/except.
    - При отсутствии объекта возвращает страницу 404.
- **.first() и .last():**
    - Возвращают соответственно первый или последний объект из QuerySet.
    - Не выбрасывают исключение, если QuerySet пуст (возвращают `None`).

## Итог

- Для получения одного объекта используйте `.get()`, если уверены, что запрос вернёт ровно один результат.
- Если существует вероятность, что объект может отсутствовать, предпочтительнее применять `get_object_or_404()`, чтобы корректно обработать ситуацию и вернуть ошибку 404.
- Методы `.first()` и `.last()` полезны для получения крайних значений из отсортированного набора объектов.

Следуя этому конспекту, вы сможете самостоятельно реализовать получение отдельных объектов модели, обрабатывая случаи отсутствия данных корректно и оптимизируя запросы к базе данных.

## 5. Ссылки
- [Документация по QuerySet](https://docs.djangoproject.com/en/3.2/ref/models/querysets/#django.db.models.query.QuerySet)
- [Документация функции get_object_or_404()](https://docs.djangoproject.com/en/3.2/topics/http/shortcuts/#get-object-or-404)
- [Документация метода get_list_or_404()](https://docs.djangoproject.com/en/3.2/topics/http/shortcuts/#get-list-or-404)
- [Документация методов .first() и .last()](https://docs.djangoproject.com/en/3.2/ref/models/querysets/#first)