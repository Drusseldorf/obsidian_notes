### 1. Главная идея главы

- **Веб-доступность** – это создание веб-сайтов и приложений, удобных для всех пользователей, включая людей с ограниченными возможностями по зрению, слуху, моторике, когнитивным способностям и т.д.
- **«Важна для некоторых, полезна для всех»:** адаптивный дизайн и включённость повышают удобство для всех пользователей (например, голосовые интерфейсы, субтитры, контрастные элементы).
- **Правовые и этические аспекты:** доступность – это не только удобство, но и требование законодательства во многих странах.
- **Вывод:** обеспечить доступность выгодно бизнесу, выполняя требования WCAG и снижая риск судебных претензий.

---

### 2. Ключевые понятия и экосистема доступности

1. **Персонажи пользователей с ограниченными возможностями:**
    
    - Проблемы со зрением (слепые, слабовидящие, цветовая слепота, пожилые с ослабленным зрением).
    - Проблемы со слухом (глухие или слабослышащие пользователи).
    - Моторные ограничения (сложности с мелкой моторикой, паралич, переломы).
    - Когнитивные нарушения (сложности восприятия, понимания контента).
    - Ситуационные ограничения (занятые руки, окружающий шум, отсутствие мыши и др.).
2. **Экосистема доступности:**
    
    - **Веб-разработка**: HTML/CSS/JS и атрибуты доступности.
    - **Пользовательские агенты (browser, media player)**: должны корректно передавать данные вспомогательным технологиям.
    - **Вспомогательные технологии**: программы чтения с экрана, альтернативные клавиатуры, голосовой ввод и т.п.
3. **Пример: программы чтения с экрана**
    
    - Читает содержимое страницы последовательно по дереву доступности.
    - Для удобства требуется корректная семантика (правильные теги, `role`, `aria-checked`, и т.п.) и логика переключения фокуса.

---

### 3. WCAG 2.0 и уровни соответствия

- **WCAG 2.0 (Web Content Accessibility Guidelines)** – базовый стандарт от W3C WAI, рекомендованный многими правительствами.
    
- **4 принципа**: контент должен быть
    
    1. **Воспринимаемым (Perceivable)**: всё нетекстовое дублируется текстом, субтитры к аудио/видео, использование цвета дублируется текстом и др.
    2. **Управляемым (Operable)**: полный доступ только с клавиатуры, достаточно времени на реакции, отсутствие мерцания и т. д.
    3. **Понятным (Understandable)**: простой язык, отсутствие неожиданного изменения контекста, корректные инструкции и сообщения об ошибках.
    4. **Надёжным (Robust)**: верстка должна поддерживать вспомогательные технологии, иметь валидный HTML, атрибуты ARIA и т. д.
- **Уровни соответствия**:
    
    - **A** – минимальный уровень (критически важные требования),
    - **AA** – более строгие (часто рекомендуются правовыми нормами),
    - **AAA** – самый высокий (сурдопереводы, расширенные требования).
- **WAI-ARIA**: спецификация для добавления специальных атрибутов доступности (`role`, `aria-*`) к нестандартным элементам.
    

---

### 4. Стратегия тестирования доступности (ранний подход)

1. **Интеграция на раннем этапе**: уже на стадии проектирования учитываются потребности пользователей с ограничениями (соответствие WCAG, наличие подпиcей для форм, субтитры к видео и т. п.).
2. **Чек-лист доступности**:
    - Проверка заголовков страниц,
    - Навигация без мыши (только клавиатурой),
    - Контраст и цвет,
    - Альтернативные тексты для изображений,
    - Субтитры/транскрибация для аудио/видео,
    - Проверка структуры, иерархии заголовков,
    - Понятные и однозначные подписи,
    - Соответствие атрибутов (role, aria-*, id).
3. **Различные инструменты**: автоматическое сканирование HTML на наличие необходимых атрибутов + ручное исследование.
4. **Ручное тестирование**:
    - **На уровне пользовательских историй**: проверка отдельных страниц и их компонентов,
    - **На уровне функций**: сводная проверка сквозных пользовательских сценариев (например, оформление заказа),
    - **Операционное тестирование**: привлечение реальных пользователей (в том числе с ограниченными возможностями).
5. **Сертификация соответствия**: финальная оценка страниц экспертами или консультантами для соответствия WCAG.

---

### 5. Инструменты тестирования доступности

1. **Автоматические анализаторы:**
    - **WAVE** ([https://wave.webaim.org](https://wave.webaim.org/)): онлайн-сервис, подсвечивает ошибки и рекомендации (например, отсутствие alt у изображений, ошибки в HTML, плохой контраст).
    - **Lighthouse (Chrome DevTools)**: встроенный анализ, есть CLI для интеграции в CI. Выдаёт оценку, детальные ошибки и рекомендации.
    - **axe-core**: движок, используемый в разных инструментах (Selenium/Node/Cypress-модули). Умеет автоматически проверять большую часть правил WCAG, выдаёт отчёты и ошибки.
    - **Pa11y**: CLI-инструмент Node, анализирует страницы или карту сайта.
2. **Интеграция в конвейер CI**:
    - Запуск инструментов Lighthouse, axe, Pa11y на стадии сборки, анализ результатов, пороговые значения для предупреждений/ошибок.
    - Сбор HTML-отчётов для QA/Business.
3. **Ручное исследование**:
    - **Тестирование только клавиатурой** (Tab/Shift+Tab, Enter, Space).
    - **Отключение CSS** (проверка структуры).
    - **Имитация программ чтения с экрана** (NVDA, VoiceOver, JAWS).
    - **Проверка контрастности**, масштабирования шрифта, перевода на другие языки, наличия субтитров.

---

### 6. Ключевые выводы

1. **«Важна для некоторых, полезна для всех»**: доступность делает приложение удобным для любой аудитории, в том числе пожилых, временно ограниченных в движении, пользователей с разными устройствами.
2. **Экосистема доступности**: включает веб-технологии (HTML/CSS/JS), пользовательские агенты (браузеры), вспомогательные технологии (чтение с экрана, альтернативные клавиатуры).
3. **WCAG 2.0** – главный стандарт, ориентированный на принципы: «Воспринимаемо, Управляемо, Понятно, Надёжно» (POUR). Три уровня соответствия: A, AA, AAA.
4. **Раннее тестирование**: чек-листы доступности на уровне пользовательских историй, автоматическое сканирование (WAVE, Lighthouse, axe, Pa11y), ручные проверки в CI, привлечение реальных пользователей.
5. **Совокупный результат**: сокращение судебных рисков, повышение репутации и увеличение потенциальной аудитории, что выгодно бизнесу и обществу.