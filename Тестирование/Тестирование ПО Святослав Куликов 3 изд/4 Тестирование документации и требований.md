# 4. Тестирование документации и требований

### Суть раздела

- **Требование (requirement)** — это **описание** того, какие функции (и при каких условиях) должно выполнять приложение для решения **полезной** для пользователя задачи.
- Исторически, старые формулировки сосредоточены на **системе**, а современные делают акцент на **пользователях** и их **задачах**.

### Основные детали и мысли автора

1. **Важность ориентации** на потребности пользователя. Современный подход подчёркивает: без учёта пользовательских задач возрастает риск провала продукта.

---

## 2.2.2. Важность требований

### Суть раздела

- Требования — **отправная точка** для определения того, что проектная команда будет **проектировать**, **реализовывать** и **тестировать**.
- Если в требованиях изначально есть ошибка, то вся последующая работа (дизайн, разработка, тестирование) будет «впустую».

### Основные идеи и детали

1. **От качества требований** напрямую зависит результат: неправильные или неточные требования ведут к тому, что в итоге «получится не то».
2. **Брайан Хэнкс** подчёркивает несколько ключевых моментов, которые обеспечивают требования:
    - Понимание, **что** и **с какими условиями** должна делать система.
    - Возможность **управлять изменениями** и оценивать их масштаб.
    - **Основа** для планов (проекта в целом и тестирования в частности).
    - **Предотвращение конфликтов** или их разрешение.
    - Упрощение **приоритезации** (что более важно).
    - **Объективная оценка** прогресса (есть чёткие критерии и вехи).
3. Чем **позже** обнаружена проблема в требованиях, тем **дороже** её исправлять. Поэтому тестирование и уточнение требований на ранней стадии экономит **огромные ресурсы** (аналогия со списком покупок и его корректировкой «в последний момент»).
4. Часто **½–¾** проблем в ПО «зарождается» именно в требованиях 
5. Автор подчёркивает важность **постоянного тестирования** и контроля документации на всех этапах.

---

## 2.2.3. Источники и пути выявления требований

### Суть раздела

- Требования **возникают** на стороне заказчика и **выявляются** с помощью набора **техник**

### Основные техники выявления требований

1. **Интервью**
    - Общение один на один (интервьюер + интервьюируемый) или переписка.
    - Цель — собрать максимум сведений о пожеланиях, проблемах, нюансах.
2. **Работа с фокусными группами**
    - Расширенное интервью, но уже с группой (целевой аудиторией, экспертами и т.д.).
3. **Анкетирование**
    - Может быть малоэффективным при неправильной постановке вопросов и аудитории.
    - При **правильной** организации даёт возможность получить **много** ответов от **большого** числа респондентов.
4. **Семинары и мозговой штурм**
    - **Быстрый** обмен информацией в группе.
    - Можно комбинировать с прототипированием, анкетированием, моделированием и т.д.
5. **Наблюдение**
    - Трудоёмко, но позволяет увидеть **реальные** процессы (то, о чём умалчивают).
    - Может показать только **часть** картины.
6. **Прототипирование**
    - Демонстрация промежуточных макетов, прототипов (например, дизайн-скетчи UI).
    - Позволяет **уточнить** требования наглядно.
    - Может быть дорого, если нет быстрых инструментов и если требования слишком «сырые».
7. **Анализ документов**
    - Изучение уже имеющихся регламентов, спецификаций, бизнес-правил.
    - Важно, если эксперты временно недоступны.
8. **Моделирование процессов и взаимодействий**
    - Моделирование «бизнес-процессов» (договоры, согласования) и «технических процессов» (взаимодействие модулей).
    - Требует высокой квалификации и умения структурировать информацию.
9. **Самостоятельное описание**
    - Формализация и «упорядочивание» собранных сведений.
    - Не означает «придумать за заказчика», а лишь **качественно** оформить то, что уже собрали.

### Дополнительная мысль

- Многие бизнес-аналитики пришли в профессию из тестирования.

---

## 2.2.4. Уровни и типы требований

### Суть раздела

- Требования можно **группировать** по уровню детализации и типам
- Разделение важно для понимания, **какие** требования (и **как**) тестировать.

### Основные уровни и типы

1. **Бизнес-требования** (business requirements)
    - **Зачем** создаётся продукт, его **цель**, **ожидаемая польза**, **коммерческие** выгоды.
    - Часто оформляются как «общее видение» (vision and scope).
    - Примеры:
        - Нужен инструмент с «онлайн»-курсом покупки/продажи валют.
        - Увеличить **в 2–3 раза** число заявок, обрабатываемых оператором за смену.
        - Автоматизировать выписку накладных.
2. **Пользовательские требования** (user requirements)
    - Описывают **задачи** пользователя и **сценарии** использования.
    - Используются форматы: use cases, user stories, user scenarios.
    - Примеры:
        - При первом входе показывать лицензионное соглашение.
        - Администратор может просматривать список всех работающих пользователей.
        - Система запрашивает «черновик или публикация?» при первом сохранении.
3. **Бизнес-правила** (business rules)
    - Нормы, **ограничения**, особенности бизнес-процессов (правила работы компании, отрасли и т.д.).
    - Примеры:
        - Документ, хоть раз просмотренный, нельзя редактировать/удалять.
        - Публикация статьи — только после утверждения редактором.
        - Подключение извне офиса запрещено в нерабочее время.
4. **Атрибуты качества** (quality attributes)
    - Часть нефункциональных требований, но на уровне «пользовательских» часто выделяются отдельно (важны для конечной **пользы** продукта).
    - Например, производительность, восстанавливаемость и т.д.
    - Примеры:
        - Время готовности к выполнению новой команды не более 1 секунды.
        - Изменения в статье не теряются при обрыве соединения.
        - Приложение поддерживает неограниченное число языков интерфейса.
5. **Функциональные требования** (functional requirements)
    - **Детальное** описание поведения системы (вычисления, проверки, алгоритмы).
    - Примеры:
        - При инсталляции проверять остаток свободного места.
        - Система ежедневно выполняет резервное копирование.
        - Электронный адрес валидируется по RFC822.
6. **Нефункциональные требования** (non-functional requirements)
    - Свойства и **качества**, которые должна обеспечивать система (надёжность, удобство, безопасность и т.д.).
    - В основном влияют на **архитектуру**.
    - Примеры:
        - При 1000 одновременных пользователях минимальное время между сбоями >= 100 часов.
        - Память не может превышать 2 ГБ.
        - Размер шрифта настраивается от 5 до 15 пунктов.
7. **Подгруппы нефункциональных требований**
    - **Ограничения** (limitations, constraints):
        - Не использовать Flash.
        - Отображать всё без прокрутки при разрешении 800×600 и выше.
    - **Требования к интерфейсам** (external interfaces requirements):
        - Общение клиент-сервер по JSON.
        - Протокол SMTP over TLS.
    - **Требования к данным** (data requirements):
        - Данные хранятся в MySQL (операционные) и MongoDB (пользовательские документы).
        - Текущие данные хранятся в «операционной» таблице, архив — в «архивной».
8. **Спецификация требований (SRS)**
    - Объединяет **все** требования уровня продукта (функциональные и нефункциональные).
    - Может иметь **огромный** объём (сотни/тысячи страниц).
    - Управление требованиями упрощается с помощью **requirements management tools**.

---

## 2.2.5. Свойства качественных требований

### Суть раздела

- Качественное требование должно соответствовать **ряду свойств**
- Список свойств:
    1. Завершённость (completeness)
    2. Атомарность (atomicity)
    3. Непротиворечивость (consistency)
    4. Недвусмысленность (unambiguousness)
    5. Выполнимость (feasibility)
    6. Обязательность / актуальность (obligatoriness / up-to-date)
    7. Прослеживаемость (traceability)
    8. Модифицируемость (modifiability)
    9. Проранжированность по важности, стабильности, срочности (ranked for importance, stability, priority)
    10. Корректность (correctness) и проверяемость (verifiability)

Далее автор по каждому свойству раскрывает типичные проблемы и способы их устранения:

### 1. Завершённость

- В требовании **вся** нужная информация, ничего не упущено («это и так понятно» — плохой аргумент).
- Проблемы:
    - “Пароли нужно хранить в зашифрованном виде” - какой алгоритм шифрования?
    - «…и т.д.» - что скрывается за и т.д?.
    - Нечёткие ссылки: «см. выше».
- Решение: Дополнять, уточнять, задавать вопросы, использовать графическое представление (стандартизированные диаграммы, например по UML)

### 2. Атомарность

- Требование описывает **одну** ситуацию, невозможно разбить без потери смысла.
- Проблемы:
    - Несколько независимых идей в одном требовании.
    - Грамматические конструкции, допускающие разные толкования.
- Решение: Декомпозиция требований на отдельные пункты.

### 3. Непротиворечивость

- Внутри требования нет внутренних конфликтов; нет конфликтов **между** требованиями; термины едины.
- Примеры нарушений:
    - «Пользователь успешно вошёл, не имея права входить…» — противоречие.
    - Разные цвета кнопки «Close» в разных пунктах (красная/синяя).
- Решение: Согласование (иногда с заказчиком), устранение конфликтов, приведение терминов к единообразию.

### 4. Недвусмысленность

- Нет жаргона, расплывчатых формулировок («быстро», «лёгкий», «оптимальный», «большой» и т.д.).
- Проблемы:
    - «Приложение должно быстро запускаться» — сколько секунд, на каком железе?
    - Неясные аббревиатуры (ФС?).
- Решение: Использовать точные формулы, числа, стандарты, объективные критерии.

### 5. Выполнимость

- Требование **реализуемо** (с учётом бюджета, сроков, технологического уровня).
- Проблемы:
    - «Золотое» (gold plating) требование, дорогое и практически ненужное.
    - Фантастические идеи («анализ договоров с применением ИИ, который…»).
- Решение: Реалистично оценивать, отказываться от невыполнимых пунктов или менять условия проекта.

### 6. Обязательность и актуальность

- В требованиях нет «лишних» пунктов, ненужных или устаревших.
- Проблемы:
    - Неактуальные «на всякий случай» требования.
    - Устаревшие пункты, не удалённые из документа.
- Решение: Периодический пересмотр, удаление «мёртвых» пунктов, корректировка приоритетов.

### 7. Прослеживаемость

- Возможность **соотнести** требования друг с другом (вертикально и горизонтально), а также с тест-планами, тест-кейсами и т.д.
- Проблемы:
    - Нет нумерации и структуры.
    - Нет использования инструментов для управления требованиями.
- Решение: Расстановка ссылок, реорганизация набора требований, применение **requirements management tools**.

### 8. Модифицируемость

- Лёгкость внесения изменений без нарушения остальных свойств.
- Проблемы:
    - Неатомарные, противоречивые, непоследовательные требования.
    - Документы в неудобном виде (много текстовых файлов, нет инструментов).
- Решение: Повышать прослеживаемость, устранять атомарные проблемы и противоречия.

### 9. Проранжированность (важность, стабильность, срочность)

- Требования должны иметь приоритеты (что критично, что может подождать).
- Проблемы:
    - Нет приоритетов, и команда тратит силы на «второстепенное».
    - Неверно выставлен приоритет: возможны задержки и срывы сроков.
- Решение: Регулярно пересматривать с заказчиком, обновлять значения важности.

### 10. Корректность и проверяемость

- Итоговое свойство: если хотя бы одно из предыдущих нарушено, **корректность** тоже нарушена.
- Проверяемость — **возможность** создать тест-кейс, который объективно покажет правильность реализации требования.
- Проблемы:
    - Опечатки, неверный уровень детализации, «требования к пользователю, а не к системе».
- Решение: «Правка всего», устранение опечаток, реорганизация структуры.

---

## 2.2.6. Техники тестирования требований

### Суть раздела

- Тестирование требований — часть **нефункционального** тестирования.
- Основные **техники** в контексте тестирования документации/требований:
1. **Взаимный просмотр (peer review)**
    - **Беглый просмотр (walkthrough)**: самый простой и дешёвый вариант (похоже на проверку сочинений «друг у друга» в школе).
    - **Технический просмотр (technical review)**: несколько специалистов разных профилей; пока у кого-то есть замечания, документ считается «непринятым».
    - **Формальная инспекция (inspection)**: строгий, формальный, документируемый процесс с участием многих людей; используется реже всего (например, при передаче проекта от одной компании к другой).
2. **Вопросы**
    - Задавать **уточняющие** вопросы (или использовать техники выявления требований) — важная техника выявления пробелов и двусмысленности.
    - Пример **плохих** и **хороших** вопросов в табл. 2.2.a:
        - «Насколько быстро?» ↔ «Каково максимально допустимое время запуска и при каких условиях?»
        - «Зачем?» ↔ «Насколько важна функциональность и как часто/кто её будет использовать?»
3. **Тест-кейсы и чек-листы**
    - Если требование «хорошее», его можно **однозначно** проверить.
    - Если **нет идей**, как проверить требование, это **тревожный знак** (возможно, требование двусмысленно, неполно).
    - На ранних стадиях много «сырых» требований, которые сразу видны как «непроверяемые».
4. **Исследование поведения системы**
    - Мысленное моделирование **целых сценариев** на базе набора требований, а не отдельно взятого требования.
    - Подходит для **опытных** тестировщиков, даёт возможность увидеть **нетривиальные» пробелы.
5. **Рисунки и графические представления**
    - Диаграммы, UML, mind maps, схемы — помогают **увидеть общую картину** и «стыки».
    - Удобны для **совместной** работы и выявления несоответствий.
6. **Прототипирование**
    - Следствие графического представления и анализа поведения.
    - Быстрые инструменты позволяют сделать «набросок» UI, обсудить и даже использовать как основу разработки.

---

# Итоговые выводы / Авторские акценты

1. **Тестирование документации и требований** — один из самых **важных** этапов, так как исправление ошибок «в начале» стоит **дешевле** и экономит множество ресурсов.
2. **Качественные требования** обладают целым набором свойств (недвусмысленность, непротиворечивость, проверяемость, атомарность и т.д.).
3. При **выявлении** несоответствий и пробелов важно:
    - Уметь задавать **правильные** вопросы.
    - Использовать **визуализацию** (рисунки, схемы, прототипы).
    - Применять **взаимный просмотр** и **инспекции**.
4. **Управление требованиями** облегчает прослеживаемость и актуализацию (requirements management tools, матрицы прослеживаемости и т.д.).
5. Главная цель тестировщика на этом этапе — **минимизировать риск** больших и дорогих проблем на более поздних стадиях.

Таким образом, большая часть проблем в ПО «рождается» в требованиях, и грамотное тестирование документации помогает их вовремя обнаружить и устранить.