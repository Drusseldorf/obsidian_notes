# Что такое Docker

### Что такое Docker?

**Docker** — это популярная платформа с открытым исходным кодом, которая позволяет разрабатывать, тестировать и запускать приложения в изолированных средах, называемых контейнерами. Контейнеры содержат всё необходимое для работы приложения — код, библиотеки, зависимости и настройки, что делает их независимыми от хостовой системы и легко переносимыми между различными окружениями.

---

### Для чего используется Docker?

Docker используется для решения ряда задач, связанных с разработкой и эксплуатацией приложений:

1. **Изоляция приложений**: Контейнеры позволяют изолировать приложения и их зависимости, предотвращая конфликты между ними.
2. **Портативность**: Контейнеры можно запускать на любой системе, где установлен Docker, будь то локальная машина разработчика, сервер или облачная платформа.
3. **Упрощение разработки**: Разработчики могут настроить единую контейнеризированную среду разработки, чтобы избежать проблем, связанных с разными конфигурациями у разных участников команды.
4. **Масштабируемость**: Docker позволяет быстро разворачивать новые экземпляры приложения для обработки увеличивающейся нагрузки.
5. **CI/CD**: В процессах непрерывной интеграции и доставки Docker помогает автоматизировать сборку, тестирование и развертывание приложений.

---

### Как устроен Docker под капотом?

Docker построен на основе технологий контейнеризации, которые используют изоляцию процессов в ОС. Вот ключевые компоненты:

1. **Контейнеры**:
Контейнеры — это изолированные процессы, которые работают на общем ядре операционной системы. Они обеспечивают изоляцию благодаря:
    - **Namespaces**: Для изоляции процессов, файловой системы, сетевых ресурсов.
    - **Control Groups (cgroups)**: Для ограничения использования ресурсов (CPU, памяти, дисков).
2. **Образы (Images)**:
Контейнеры создаются из образов. Образ — это неизменяемый шаблон, содержащий всё необходимое для работы приложения. Образы состоят из слоёв (layers), что позволяет эффективно использовать дисковое пространство за счёт их повторного использования.
3. **Docker Engine**:
Основной компонент Docker, который отвечает за создание и управление контейнерами. Состоит из трёх частей:
    - **Docker Daemon** (“dockerd”): Управляет контейнерами и образами.
    - **CLI (Command Line Interface)**: Позволяет пользователям взаимодействовать с Docker Daemon.
    - **API**: Интерфейс для программного взаимодействия с Docker.
4. **Сетевые мосты**:
Docker создаёт виртуальные сети для связи контейнеров друг с другом и с внешним миром. Контейнеры подключаются к этим сетям, используя bridge-драйвер по умолчанию.
5. **Файловая система OverlayFS**:
Docker использует OverlayFS для обеспечения слоёв образов и контейнеров. Это позволяет создавать образы, где изменяются только те слои, которые необходимы, без копирования всей файловой системы.

---

### Почему Docker стал популярен?

1. **Лёгкость использования**:
Docker предлагает простой интерфейс для работы с контейнерами. Команды вроде `docker run` позволяют за считанные секунды запустить приложение.
2. **Портативность**:
Благодаря контейнерам приложение будет работать одинаково на разных системах (разработчика, тестировщика или в продакшене).
3. **Экономия ресурсов**:
В отличие от виртуальных машин, контейнеры используют общее ядро ОС, что делает их легче и быстрее.
4. **Активная экосистема**:
Docker Hub — это огромный репозиторий образов, где разработчики могут находить и использовать готовые решения.
5. **Интеграция с DevOps**:
Docker стал неотъемлемой частью DevOps-процессов, упрощая автоматизацию и развёртывание приложений.
6. **Открытый исходный код**:
Бесплатная и открытая модель привлекла большое количество разработчиков и компаний.

---

### Основные понятия и термины Docker

1. **Docker Image (образ)**:
Шаблон, из которого создаются контейнеры. Образы состоят из слоёв и хранятся в репозиториях, таких как Docker Hub.
2. **Docker Container (контейнер)**:
Запущенный экземпляр образа. Контейнеры изолированы друг от друга и от хостовой системы.
3. **Dockerfile**:
Скрипт, описывающий, как создать образ. Содержит команды, такие как установка зависимостей, копирование файлов и запуск приложения.
4. **Docker Hub**:
Официальный репозиторий Docker, где можно находить и загружать образы.
5. **Volumes**:
Механизм для хранения данных, которые должны сохраняться вне контейнера (например, базы данных).
6. **Networks**:
Позволяют связывать контейнеры между собой или с внешним миром. Docker поддерживает bridge, host и другие типы сетей.
7. **Compose**:
Инструмент для управления многоконтейнерными приложениями. Файл `docker-compose.yml` описывает, какие контейнеры запускать и как они взаимодействуют.
8. **Registry**:
Хранилище образов Docker. Docker Hub — это публичный registry, но компании могут создавать свои частные registry.